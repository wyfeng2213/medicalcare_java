<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmcc.medicalcare.model.PatientMedicalRecord">
  <cache type="com.cmcc.medicalcare.cache.redis.RedisCache_2"/>
  <resultMap id="BaseResultMap" type="com.cmcc.medicalcare.model.PatientMedicalRecord">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="patinet_login_id" jdbcType="VARCHAR" property="patinetLoginId" />
    <result column="patinet_name" jdbcType="VARCHAR" property="patinetName" />
    <result column="patient_phone" jdbcType="VARCHAR" property="patientPhone" />
    <result column="diagnose_date" jdbcType="TIMESTAMP" property="diagnoseDate" />
    <result column="diagnose_content" jdbcType="VARCHAR" property="diagnoseContent" />
    <result column="diagnose_result" jdbcType="VARCHAR" property="diagnoseResult" />
    <result column="inspection_report_url" jdbcType="VARCHAR" property="inspectionReportUrl" />
    <result column="mechanism" jdbcType="VARCHAR" property="mechanism" />
    <result column="source_type" jdbcType="INTEGER" property="sourceType" />
    <result column="details" jdbcType="VARCHAR" property="details" />
    <result column="doctors_login_id" jdbcType="VARCHAR" property="doctorsLoginId" />
    <result column="doctors_name" jdbcType="VARCHAR" property="doctorsName" />
    <result column="doctors_phone" jdbcType="VARCHAR" property="doctorsPhone" />
    <result column="state" jdbcType="INTEGER" property="state" />
    <result column="note" jdbcType="VARCHAR" property="note" />
    <result column="launch_login_id" jdbcType="VARCHAR" property="launchLoginId" />
    <result column="launch_name" jdbcType="VARCHAR" property="launchName" />
    <result column="launch_phone" jdbcType="VARCHAR" property="launchPhone" />
    <result column="launch_type" jdbcType="INTEGER" property="launchType" />
    <result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
    <result column="updatetime" jdbcType="TIMESTAMP" property="updatetime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, patinet_login_id, patinet_name, patient_phone, diagnose_date, diagnose_content, 
    diagnose_result, inspection_report_url, mechanism, source_type, details, doctors_login_id, 
    doctors_name, doctors_phone, state, note, launch_login_id, launch_name, launch_phone, 
    launch_type, createtime, updatetime
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from patient_medical_record
    where id = #{id,jdbcType=INTEGER}
  </select>
  
  <select id="selectAll" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from patient_medical_record
  </select>
  
  <select id="selectByPatinetLoginId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from patient_medical_record
    where patinet_login_id = #{patinetLoginId,jdbcType=VARCHAR}
    order by createtime desc
  </select>
  
  <select id="selectByPatientPhone" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from patient_medical_record
    where patient_phone = #{patientPhone,jdbcType=VARCHAR}
  </select>
  
  <select id="getDetailsMedicalRecord" resultMap="BaseResultMap" parameterType="java.util.Map" useCache="false">
    select 
    <include refid="Base_Column_List" />
    from patient_medical_record
    where 1=1
    	<if test="patientLoginId != null and patientLoginId !='' ">  
            and patinet_login_id = #{patientLoginId,jdbcType=VARCHAR}  
        </if>
        <if test="diagnoseResult != null and diagnoseResult !='' ">  
            and diagnose_result like CONCAT(CONCAT('%',#{diagnoseResult}),'%')  
        </if>
        <if test="startTime != null and startTime !='' ">  
            and '${startTime}' &lt;= diagnose_date  
        </if>
        <if test="endTime != null and endTime !='' ">  
            and diagnose_date &lt; '${endTime}'  
        </if>
    order by createtime desc
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from patient_medical_record
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.cmcc.medicalcare.model.PatientMedicalRecord" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into patient_medical_record (id, patinet_login_id, patinet_name, 
      patient_phone, diagnose_date, diagnose_content, 
      diagnose_result, inspection_report_url, mechanism, 
      source_type, details, doctors_login_id, 
      doctors_name, doctors_phone, state, 
      note, launch_login_id, launch_name, 
      launch_phone, launch_type, createtime, 
      updatetime)
    values (#{id,jdbcType=INTEGER}, #{patinetLoginId,jdbcType=VARCHAR}, #{patinetName,jdbcType=VARCHAR}, 
      #{patientPhone,jdbcType=VARCHAR}, #{diagnoseDate,jdbcType=TIMESTAMP}, #{diagnoseContent,jdbcType=VARCHAR}, 
      #{diagnoseResult,jdbcType=VARCHAR}, #{inspectionReportUrl,jdbcType=VARCHAR}, #{mechanism,jdbcType=VARCHAR}, 
      #{sourceType,jdbcType=INTEGER}, #{details,jdbcType=VARCHAR}, #{doctorsLoginId,jdbcType=VARCHAR}, 
      #{doctorsName,jdbcType=VARCHAR}, #{doctorsPhone,jdbcType=VARCHAR}, #{state,jdbcType=INTEGER}, 
      #{note,jdbcType=VARCHAR}, #{launchLoginId,jdbcType=VARCHAR}, #{launchName,jdbcType=VARCHAR}, 
      #{launchPhone,jdbcType=VARCHAR}, #{launchType,jdbcType=INTEGER}, #{createtime,jdbcType=TIMESTAMP}, 
      #{updatetime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.cmcc.medicalcare.model.PatientMedicalRecord" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into patient_medical_record
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="patinetLoginId != null">
        patinet_login_id,
      </if>
      <if test="patinetName != null">
        patinet_name,
      </if>
      <if test="patientPhone != null">
        patient_phone,
      </if>
      <if test="diagnoseDate != null">
        diagnose_date,
      </if>
      <if test="diagnoseContent != null">
        diagnose_content,
      </if>
      <if test="diagnoseResult != null">
        diagnose_result,
      </if>
      <if test="inspectionReportUrl != null">
        inspection_report_url,
      </if>
      <if test="mechanism != null">
        mechanism,
      </if>
      <if test="sourceType != null">
        source_type,
      </if>
      <if test="details != null">
        details,
      </if>
      <if test="doctorsLoginId != null">
        doctors_login_id,
      </if>
      <if test="doctorsName != null">
        doctors_name,
      </if>
      <if test="doctorsPhone != null">
        doctors_phone,
      </if>
      <if test="state != null">
        state,
      </if>
      <if test="note != null">
        note,
      </if>
      <if test="launchLoginId != null">
        launch_login_id,
      </if>
      <if test="launchName != null">
        launch_name,
      </if>
      <if test="launchPhone != null">
        launch_phone,
      </if>
      <if test="launchType != null">
        launch_type,
      </if>
      <if test="createtime != null">
        createtime,
      </if>
      <if test="updatetime != null">
        updatetime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="patinetLoginId != null">
        #{patinetLoginId,jdbcType=VARCHAR},
      </if>
      <if test="patinetName != null">
        #{patinetName,jdbcType=VARCHAR},
      </if>
      <if test="patientPhone != null">
        #{patientPhone,jdbcType=VARCHAR},
      </if>
      <if test="diagnoseDate != null">
        #{diagnoseDate,jdbcType=TIMESTAMP},
      </if>
      <if test="diagnoseContent != null">
        #{diagnoseContent,jdbcType=VARCHAR},
      </if>
      <if test="diagnoseResult != null">
        #{diagnoseResult,jdbcType=VARCHAR},
      </if>
      <if test="inspectionReportUrl != null">
        #{inspectionReportUrl,jdbcType=VARCHAR},
      </if>
      <if test="mechanism != null">
        #{mechanism,jdbcType=VARCHAR},
      </if>
      <if test="sourceType != null">
        #{sourceType,jdbcType=INTEGER},
      </if>
      <if test="details != null">
        #{details,jdbcType=VARCHAR},
      </if>
      <if test="doctorsLoginId != null">
        #{doctorsLoginId,jdbcType=VARCHAR},
      </if>
      <if test="doctorsName != null">
        #{doctorsName,jdbcType=VARCHAR},
      </if>
      <if test="doctorsPhone != null">
        #{doctorsPhone,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=INTEGER},
      </if>
      <if test="note != null">
        #{note,jdbcType=VARCHAR},
      </if>
      <if test="launchLoginId != null">
        #{launchLoginId,jdbcType=VARCHAR},
      </if>
      <if test="launchName != null">
        #{launchName,jdbcType=VARCHAR},
      </if>
      <if test="launchPhone != null">
        #{launchPhone,jdbcType=VARCHAR},
      </if>
      <if test="launchType != null">
        #{launchType,jdbcType=INTEGER},
      </if>
      <if test="createtime != null">
        #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatetime != null">
        #{updatetime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.cmcc.medicalcare.model.PatientMedicalRecord">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update patient_medical_record
    <set>
      <if test="patinetLoginId != null">
        patinet_login_id = #{patinetLoginId,jdbcType=VARCHAR},
      </if>
      <if test="patinetName != null">
        patinet_name = #{patinetName,jdbcType=VARCHAR},
      </if>
      <if test="patientPhone != null">
        patient_phone = #{patientPhone,jdbcType=VARCHAR},
      </if>
      <if test="diagnoseDate != null">
        diagnose_date = #{diagnoseDate,jdbcType=TIMESTAMP},
      </if>
      <if test="diagnoseContent != null">
        diagnose_content = #{diagnoseContent,jdbcType=VARCHAR},
      </if>
      <if test="diagnoseResult != null">
        diagnose_result = #{diagnoseResult,jdbcType=VARCHAR},
      </if>
      <if test="inspectionReportUrl != null">
        inspection_report_url = #{inspectionReportUrl,jdbcType=VARCHAR},
      </if>
      <if test="mechanism != null">
        mechanism = #{mechanism,jdbcType=VARCHAR},
      </if>
      <if test="sourceType != null">
        source_type = #{sourceType,jdbcType=INTEGER},
      </if>
      <if test="details != null">
        details = #{details,jdbcType=VARCHAR},
      </if>
      <if test="doctorsLoginId != null">
        doctors_login_id = #{doctorsLoginId,jdbcType=VARCHAR},
      </if>
      <if test="doctorsName != null">
        doctors_name = #{doctorsName,jdbcType=VARCHAR},
      </if>
      <if test="doctorsPhone != null">
        doctors_phone = #{doctorsPhone,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="note != null">
        note = #{note,jdbcType=VARCHAR},
      </if>
      <if test="launchLoginId != null">
        launch_login_id = #{launchLoginId,jdbcType=VARCHAR},
      </if>
      <if test="launchName != null">
        launch_name = #{launchName,jdbcType=VARCHAR},
      </if>
      <if test="launchPhone != null">
        launch_phone = #{launchPhone,jdbcType=VARCHAR},
      </if>
      <if test="launchType != null">
        launch_type = #{launchType,jdbcType=INTEGER},
      </if>
      <if test="createtime != null">
        createtime = #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatetime != null">
        updatetime = #{updatetime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cmcc.medicalcare.model.PatientMedicalRecord">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update patient_medical_record
    set patinet_login_id = #{patinetLoginId,jdbcType=VARCHAR},
      patinet_name = #{patinetName,jdbcType=VARCHAR},
      patient_phone = #{patientPhone,jdbcType=VARCHAR},
      diagnose_date = #{diagnoseDate,jdbcType=TIMESTAMP},
      diagnose_content = #{diagnoseContent,jdbcType=VARCHAR},
      diagnose_result = #{diagnoseResult,jdbcType=VARCHAR},
      inspection_report_url = #{inspectionReportUrl,jdbcType=VARCHAR},
      mechanism = #{mechanism,jdbcType=VARCHAR},
      source_type = #{sourceType,jdbcType=INTEGER},
      details = #{details,jdbcType=VARCHAR},
      doctors_login_id = #{doctorsLoginId,jdbcType=VARCHAR},
      doctors_name = #{doctorsName,jdbcType=VARCHAR},
      doctors_phone = #{doctorsPhone,jdbcType=VARCHAR},
      state = #{state,jdbcType=INTEGER},
      note = #{note,jdbcType=VARCHAR},
      launch_login_id = #{launchLoginId,jdbcType=VARCHAR},
      launch_name = #{launchName,jdbcType=VARCHAR},
      launch_phone = #{launchPhone,jdbcType=VARCHAR},
      launch_type = #{launchType,jdbcType=INTEGER},
      createtime = #{createtime,jdbcType=TIMESTAMP},
      updatetime = #{updatetime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>